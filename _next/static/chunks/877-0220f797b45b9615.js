"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[877],{4877:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ue}});var a=n(5893),r=n(7294),i=n(5697),o=n.n(i),l=n(4184),s=n.n(l),c=n(9008),d=function(e){var t=e.title,n=e.description;return(0,a.jsxs)(c.default,{children:[(0,a.jsx)("title",{children:t?"".concat(t," | Fire tool"):"Fire tool"},"title"),(0,a.jsx)("meta",{name:"description",content:n||"Tool to generate fire and precipitation charts for Mongabay."},"description")]})};d.propTypes={title:o().string,description:o().string},d.defaultProps={title:null,description:null};var u,h=d,m=function(){return(0,a.jsx)("svg",{"aria-hidden":"true",style:{position:"absolute",width:0,height:0,overflow:"hidden"},version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",children:(0,a.jsxs)("defs",{children:[(0,a.jsxs)("symbol",{id:"icon-close",viewBox:"0 0 9 9",children:[(0,a.jsx)("title",{children:"Close"}),(0,a.jsx)("path",{d:"M7.41.839l1.087 1.087-7.07 7.071L.338 7.91z"}),(0,a.jsx)("path",{d:"M8.498 7.91L7.41 8.998.339 1.927 1.427.839z"})]}),(0,a.jsxs)("symbol",{id:"icon-bottom-arrow",viewBox:"0 0 15 15",children:[(0,a.jsx)("title",{children:"Bottom arrow"}),(0,a.jsx)("path",{strokeWidth:"2",d:"M3 5l4.5 5L12 5",fill:"none"})]}),(0,a.jsxs)("symbol",{id:"icon-eye",viewBox:"0 0 22 15",children:[(0,a.jsx)("title",{children:"Visible"}),(0,a.jsx)("path",{d:"M11 0C6 0 1.73 3.11 0 7.5 1.73 11.89 6 15 11 15s9.27-3.11 11-7.5C20.27 3.11 16 0 11 0zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})]}),(0,a.jsxs)("symbol",{id:"icon-slashed-eye",viewBox:"0 0 23 21",children:[(0,a.jsx)("title",{children:"Hidden"}),(0,a.jsx)("path",{d:"M22.763 9.992a18.948 18.948 0 0 0-3.133-3.619L8.367 17.637c.997.324 2.039.493 3.088.5 6.75 0 11.125-6.838 11.308-7.13a.955.955 0 0 0 0-1.015zM21.674.28a.955.955 0 0 0-1.349 0l-3.873 3.873a10.746 10.746 0 0 0-4.997-1.29C4.705 2.864.329 9.702.146 9.994a.955.955 0 0 0 0 1.015 19.027 19.027 0 0 0 4.638 4.813L2.19 18.416a.955.955 0 1 0 1.349 1.35L21.674 1.629a.955.955 0 0 0 0-1.35zM7.636 10.5a3.818 3.818 0 0 1 3.819-3.818 3.708 3.708 0 0 1 1.92.548l-5.19 5.19a3.717 3.717 0 0 1-.549-1.92z"})]}),(0,a.jsxs)("symbol",{id:"icon-opacity",viewBox:"0 0 16 16",children:[(0,a.jsx)("title",{children:"Opacity"}),(0,a.jsx)("path",{d:"M7 0v15.876A8.001 8.001 0 0 1 7 0zm5.001 1.009v13.858a7.95 7.95 0 0 1-2 .819V.19a7.95 7.95 0 0 1 2 .819zm2 1.639A7.97 7.97 0 0 1 16 7.938a7.97 7.97 0 0 1-1.999 5.29V2.648z"})]}),(0,a.jsxs)("symbol",{id:"icon-one-map",viewBox:"0 0 45 35",children:[(0,a.jsx)("title",{children:"One map"}),(0,a.jsx)("rect",{x:".5",y:".5",width:"44",height:"34",rx:"4"})]}),(0,a.jsxs)("symbol",{id:"icon-two-maps-horizontal",viewBox:"0 0 45 35",children:[(0,a.jsx)("title",{children:"Two horizontal maps"}),(0,a.jsx)("rect",{x:".5",y:".5",width:"44",height:"15",rx:"4"}),(0,a.jsx)("rect",{x:".5",y:"19.5",width:"44",height:"15",rx:"4"})]}),(0,a.jsxs)("symbol",{id:"icon-two-maps-vertical",viewBox:"0 0 45 35",children:[(0,a.jsx)("title",{children:"Two vertical maps"}),(0,a.jsx)("rect",{x:".5",y:".5",width:"20",height:"34",rx:"3"}),(0,a.jsx)("rect",{x:"24.5",y:".5",width:"20",height:"34",rx:"3"})]}),(0,a.jsxs)("symbol",{id:"icon-four-maps",viewBox:"0 0 45 35",children:[(0,a.jsx)("title",{children:"Four maps"}),(0,a.jsx)("rect",{x:".5",y:".5",width:"20",height:"15",rx:"4"}),(0,a.jsx)("rect",{x:".5",y:"19.5",width:"20",height:"15",rx:"4"}),(0,a.jsx)("rect",{x:"24.5",y:".5",width:"20",height:"15",rx:"4"}),(0,a.jsx)("rect",{x:"24.5",y:"19.5",width:"20",height:"15",rx:"4"})]}),(0,a.jsxs)("symbol",{id:"icon-animated-map",viewBox:"0 0 45 35",children:[(0,a.jsx)("title",{children:"Animated map"}),(0,a.jsx)("rect",{x:".5",y:".5",width:"44",height:"34",rx:"4"}),(0,a.jsx)("path",{d:"M17.5 9.852v15.064l13.475-7.532L17.5 9.852z",fill:"white"})]})]})})},p=n(4155),f=function(e){var t=e.className,n=e.children;return(0,a.jsxs)("div",{className:s()("l-simple-page",t),children:[(0,a.jsx)(h,{}),(0,a.jsxs)("main",{className:"l-static-page",children:[(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)("img",{src:"".concat(null!==(u=p.env.BASE_PATH)&&void 0!==u?u:"","/images/mongabay-horizontal.jpg"),alt:"Mongabay",width:135,height:20})}),n]}),(0,a.jsx)(m,{})]})};f.propTypes={className:o().string,children:o().node.isRequired},f.defaultProps={className:null};var g=f,v=n(6628),b=n(767),x=n(7158),y=n(1876);var j=function(e){var t,n,r,i=e.name,o=e.className,l=e.style,c=s()((r=o,(n=o)in(t={})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return(0,a.jsx)("svg",{className:"c-icon ".concat(c),style:l,children:(0,a.jsx)("use",{xlinkHref:"#icon-".concat(i)})})};j.propTypes={name:o().string,className:o().string,style:o().shape({})},j.defaultProps={name:"",className:"",style:{}};var w=j;function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var C=function(e){var t=e.multi,n=e.expanded,r=e.className,i=e.onChange,o=e.children;return(0,a.jsx)(y.UQ,{allowMultipleExpanded:t,allowZeroExpanded:!0,preExpanded:n,className:["c-accordion"].concat(_(r?[r]:[])).join(" "),onChange:i,children:o})};C.propTypes={multi:o().bool,expanded:o().arrayOf(o().string),className:o().string,onChange:o().func,children:o().node.isRequired},C.defaultProps={multi:!0,expanded:void 0,className:void 0,onChange:void 0};var N=function(e){var t=e.id,n=e.className,r=e.children;return(0,a.jsx)(y.Qd,{uuid:t,className:["item"].concat(_(n?[n]:[])).join(" "),children:r})};N.propTypes={id:o().string.isRequired,className:o().string,children:o().node.isRequired},N.defaultProps={className:null};var S=function(e){var t=e["aria-level"],n=e.children;return(0,a.jsx)(y.Ol,{"aria-level":t,className:"title",children:(0,a.jsxs)(y.on,{className:"button",children:[n,(0,a.jsx)(w,{name:"bottom-arrow"})]})})};S.propTypes={"aria-level":o().number.isRequired,children:o().node.isRequired};var O=function(e){var t=e.children;return(0,a.jsx)(y.Mt,{className:"panel",children:t})};O.propTypes={children:o().node.isRequired};var k=n(1736);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){E(e,t,n[t])}))}return e}var A=function(e){var t=P({interactive:!0,placement:"top",popperOptions:{modifiers:{flip:{enabled:!1}}},trigger:"click",arrow:!0,theme:"light"},e),n=t.children;return(0,a.jsx)(k.ZP,P({},t,{children:n}))};A.propTypes={children:o().element.isRequired};var R=A,T=n(369),q=R,D=n(8520),M=n.n(D),z=n(3279),F=n.n(z),L=function(){return(0,v.I0)()},V=v.v9;function I(e,t,n,a,r,i,o){try{var l=e[i](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(a,r)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){I(i,a,r,o,l,"next",e)}function l(e){I(i,a,r,o,l,"throw",e)}o(void 0)}))}}var W=B(M().mark((function e(){var t,a,r,i,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(443).then(n.t.bind(n,1120,23));case 2:return t=e.sent.default,e.next=5,t(document.querySelector(".js-visualization"),{scale:2});case 5:return a=e.sent,r=a.getContext("2d"),i=r.getImageData(0,0,a.width,a.height),(o=document.createElement("canvas")).width=a.width,o.height=a.height,o.getContext("2d").putImageData(i,0,0),a.width=a.width/2,a.height=a.height/2,r.scale(.5,.5),r.drawImage(o,0,0),e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)}))),H=B(M().mark((function e(){var t,n,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:t=e.sent,n=t.toDataURL(),(a=document.createElement("a")).setAttribute("download","map.png"),a.setAttribute("href",n),a.click();case 8:case"end":return e.stop()}}),e)})));function Y(e,t,n,a,r,i,o){try{var l=e[i](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(a,r)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t,n=V(b.$S.selectWidth),i=V(b.$S.selectHeight),o=V(b.$S.selectExporting),l=L(),c=(0,r.useState)({width:{value:n,isValid:!0},height:{value:i,isValid:!0}}),d=c[0],u=c[1],h=(0,r.useRef)(o),m=(0,r.useMemo)((function(){return F()((function(e){return l(b.HY.updateSettings(e))}),500)}),[l]),p=(0,r.useCallback)((function(e){var t=e.target.name,n=e.target.checkValidity(),a=n?+e.target.value:e.target.value;u((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){U(e,t,n[t])}))}return e}({},e,U({},t,{value:a,isValid:n}))})),n&&m(U({},t,a))}),[u,m]),f=(0,r.useCallback)((function(e){e.preventDefault(),l(b.HY.updateExporting(!0))}),[l]),g=(0,r.useCallback)((t=M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:l(b.HY.updateExporting(!1));case 3:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function o(e){Y(i,a,r,o,l,"next",e)}function l(e){Y(i,a,r,o,l,"throw",e)}o(void 0)}))}),[l]);return(0,r.useEffect)((function(){!h.current&&o&&g(),h.current=o}),[o,g]),(0,a.jsx)("div",{className:"c-export-tooltip",children:(0,a.jsxs)("form",{onSubmit:f,children:[(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Chart size"}),(0,a.jsxs)("div",{className:"form-row",children:[(0,a.jsxs)("div",{className:"form-group col-6",children:[(0,a.jsx)("label",{htmlFor:"export-width",children:"Width"}),(0,a.jsx)("input",{type:"number",id:"export-width",name:"width",className:s()({"form-control":!0,"is-invalid":!d.width.isValid}),pattern:"\\d+",value:d.width.value,min:"400",onChange:p}),(0,a.jsxs)("div",{className:"invalid-feedback",children:[0===d.width.value.length&&"Must be a number.",d.width.value.length>0&&"Minimum value: 400."]})]}),(0,a.jsxs)("div",{className:"form-group col-6",children:[(0,a.jsx)("label",{htmlFor:"export-height",children:"Height"}),(0,a.jsx)("input",{type:"number",id:"export-height",name:"height",className:s()({"form-control":!0,"is-invalid":!d.height.isValid}),pattern:"\\d+",min:"400",value:d.height.value,onChange:p}),(0,a.jsxs)("div",{className:"invalid-feedback",children:[0===d.height.value.length&&"Must be a number.",d.height.value.length>0&&"Minimum value: 400."]})]})]})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mt-3",disabled:!d.width.isValid||!d.height.isValid,children:"Download"})]})})},G=n(8767);function Q(e,t,n,a,r,i,o){try{var l=e[i](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(a,r)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(){var e,t=(0,G.useQuery)("country-list",(e=M().mark((function e(){var t,n,a,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.resourcewatch.org/v1","/dataset/Political-boundaries-GADM-36")).then((function(e){return e.json()}));case 2:return t=e.sent,n=t.data.attributes,a=new URL(n.connectorUrl).origin,r=n.tableName,e.next=8,fetch("".concat(a,"/api/v2/sql?q=WITH+c+AS+(SELECT+iso%2C+name_0+FROM+").concat(r,"+WHERE+ST_Contains(ST_MakeEnvelope('-180'%2C+'-50.5'%2C+180%2C+50.5%2C+4326)%2C+the_geom))%2C+i+AS+(SELECT+iso%2C+name_0+FROM+").concat(r,"+WHERE+ST_Intersects(ST_MakeEnvelope('-180'%2C+'-50.5'%2C+180%2C+50.5%2C+4326)%2C+the_geom))+SELECT+i.iso%2C+i.name_0+AS+name%2C+c.name_0+IS+NULL+as+partial_data+FROM+c+FULL+OUTER+JOIN+i+ON+c.name_0+%3D+i.name_0 ORDER BY name ASC")).then((function(e){return e.json()})).then((function(e){return e.rows}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){Q(i,a,r,o,l,"next",e)}function l(e){Q(i,a,r,o,l,"throw",e)}o(void 0)}))}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){J(e,t,n[t])}))}return e}({},t,{data:t.data})};function K(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var X=function(e,t,n,a){var r;return K((null===a||void 0===a?void 0:a.placeholder)?[{label:a.placeholder,value:"",disabled:!0}]:[]).concat(K(null!==(r=null===a||void 0===a?void 0:a.additionalOptions)&&void 0!==r?r:[]),K(e.map((function(e){return{label:e[t],value:e[n],disabled:!!(null===a||void 0===a?void 0:a.disabledKey)&&e[a.disabledKey]}}))))};function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ee(e,t,n[t])}))}return e}var ne=function(e){var t=(0,G.useQuery)(["region-list",null===e||void 0===e?void 0:e.iso],(function(){return e?fetch(e.partial_data?"".concat("https://api.resourcewatch.org/v1","/query/Political-boundaries-Admin-1-level-GADM-36?sql=SELECT+iso%2C+name_0%2C+name_1+AS+name%2C+gid_1+AS+id+FROM+gadm36_adm1+WHERE+iso%3D'").concat(e.iso,"'+AND+ST_Contains(ST_MakeEnvelope(%27-180%27%2C+%27-50.5%27%2C+180%2C+50.5%2C+4326)%2C+the_geom)+ORDER+BY+name+ASC"):"".concat("https://api.resourcewatch.org/v1","/query/Political-boundaries-Admin-1-level-GADM-36?sql=SELECT+iso%2C+name_1+AS+name%2C+gid_1+AS+id+FROM+gadm36_adm1+WHERE+iso%3D'").concat(e.iso,"'+ORDER+BY+name+ASC")).then((function(e){return e.json()})).then((function(e){return e.data.map((function(e){return te({},e,{id:e.id.match(/[A-Z]\.(\d+)_1/)[1]})}))})):Promise.resolve([])}),{enabled:!!e});return te({},t,{data:t.data})};function ae(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var re=function(e,t){var n=e.id,r=e.name,i=e.disabled,o=e.checked,l=e.onChange,s=e.children,c=e.className;return(0,a.jsxs)("div",{ref:t,className:["custom-control","custom-radio","c-radio"].concat(ae(c?[c]:[])).join(" "),children:[(0,a.jsx)("input",{type:"radio",className:"custom-control-input",disabled:i,id:n,name:r,checked:o,onChange:l}),(0,a.jsx)("label",{className:"custom-control-label",htmlFor:n,children:s})]})},ie=(0,r.forwardRef)(re);ie.propTypes={id:o().string.isRequired,name:o().string.isRequired,disabled:o().bool,checked:o().bool,onChange:o().func,children:o().node.isRequired,className:o().string},ie.defaultProps={disabled:!1,checked:!1,onChange:null,className:null};function oe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var le=function(e){var t=e.id,n=e.name,r=e.disabled,i=e.checked,o=e.onChange,l=e.children,s=e.className;return(0,a.jsxs)("div",{className:["custom-control","custom-checkbox","c-checkbox"].concat(oe(s?[s]:[])).join(" "),children:[(0,a.jsx)("input",{type:"checkbox",className:"custom-control-input",disabled:r,id:t,name:n,checked:i,onChange:o}),(0,a.jsx)("label",{className:"custom-control-label",htmlFor:t,children:l})]})};le.propTypes={id:o().string.isRequired,name:o().string.isRequired,disabled:o().bool,checked:o().bool,onChange:o().func,children:o().node.isRequired,className:o().string},le.defaultProps={disabled:!1,checked:!1,onChange:null,className:null};var se=le;function ce(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var de=function(e){var t=e.id,n=e.options,i=e.defaultValue,o=e.value,l=e.onChange,s=e.disabled,c=e["aria-label"],d=e.className,u=e.required,h=(0,r.useCallback)((function(e){var t=n.find((function(t){return t.value===e.target.selectedOptions[0].value}));l(t)}),[n,l]);return(0,a.jsx)("select",{id:t,className:["c-select","custom-select"].concat(ce(d?[d]:[])).join(" "),disabled:s,"aria-label":c,defaultValue:i,value:o,onChange:h,required:u,children:n.map((function(e){return(0,a.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value)}))})};de.propTypes={id:o().string.isRequired,options:o().arrayOf(o().shape({label:o().string.isRequired,value:o().string.isRequired,disabled:o().bool})).isRequired,defaultValue:o().string,value:o().string,onChange:o().func,disabled:o().bool,"aria-label":o().string,className:o().string,required:o().bool},de.defaultProps={defaultValue:void 0,value:void 0,onChange:function(){return null},disabled:!1,"aria-label":null,className:void 0,required:!1};var ue=de;function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=function(e){var t=e.id,n=e.defaultValue,r=e.value,i=e.min,o=e.max,l=e["aria-label"],c=e.className,d=e.required,u=e.disabled,h=e.onChange;return(0,a.jsx)("input",{type:"date",id:t,className:s()("c-datepicker","form-control",he({},c,!!c)),defaultValue:n,value:r,min:i,max:o,pattern:"\\d{4}-\\d{2}-\\d{2}","aria-label":l,required:d,disabled:u,onChange:h})};me.propTypes={id:o().string.isRequired,className:o().string,defaultValue:o().string,value:o().string,min:o().string,max:o().string,"aria-label":o().string,required:o().bool,disabled:o().bool,onChange:o().func},me.defaultProps={className:void 0,defaultValue:void 0,value:void 0,min:void 0,max:void 0,"aria-label":void 0,required:!1,disabled:!1,onChange:function(){return null}};function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){var t=e.id,n=e.defaultValue,r=e.value,i=e.min,o=e.max,l=e.step,c=e["aria-label"],d=e.className,u=e.required,h=e.disabled,m=e.marks,p=e.onChange;return(0,a.jsxs)("div",{className:"c-range",children:[(0,a.jsx)("input",{type:"range",id:t,className:s()("custom-range",pe({},d,!!d)),defaultValue:n,value:r,min:i,max:o,step:l,"aria-label":c,required:u,disabled:h,onChange:p}),m&&(0,a.jsx)("div",{className:"marks",children:m.map((function(e){return(0,a.jsx)("span",{"data-label":e},e)}))})]})};fe.propTypes={id:o().string.isRequired,className:o().string,defaultValue:o().string,value:o().string,min:o().string,max:o().string,step:o().string,"aria-label":o().string,required:o().bool,disabled:o().bool,marks:o().arrayOf(o().string),onChange:o().func},fe.defaultProps={className:void 0,defaultValue:void 0,value:void 0,min:void 0,max:void 0,step:void 0,"aria-label":void 0,required:!1,disabled:!1,marks:void 0,onChange:function(){return null}};function ge(e){var t=e.transparent,n=e.inner,r=e.inline,i=e.mini,o=["c-loading-spinner"];return t&&o.push("-transparent"),n&&o.push("-inner"),r&&o.push("-inline"),i&&o.push("-mini"),(0,a.jsx)("div",{className:o.join(" "),children:(0,a.jsx)("svg",{children:(0,a.jsx)("circle",{cx:i?9:30,cy:i?9:30,r:i?5:20,fill:"none",strokeWidth:i?2:3,strokeMiterlimit:"10"})})})}ge.propTypes={transparent:o().bool,inner:o().bool,inline:o().bool,mini:o().bool},ge.defaultProps={transparent:!1,inner:!1,inline:!1,mini:!1};var ve=ge;var be=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=V(b.rx.selectIso),n=V(b.rx.selectRegion),i=V(b.rx.selectDate),o=L(),l=Z(),s=l.isLoading,c=l.isError,d=l.data,u=X(null!==d&&void 0!==d?d:[],"name","iso"),h=null===d||void 0===d?void 0:d.find((function(e){return e.iso===t})),m=ne(h),p=m.isLoading,f=m.isError,g=m.data,v=X(null!==g&&void 0!==g?g:[],"name","id",{additionalOptions:h&&h.partial_data?void 0:[{label:"Whole country",value:""}]});return(0,r.useEffect)((function(){s||c||h||o(b.yP.updateIso(b.Uh.iso))}),[h,s,c,t,o]),(0,r.useEffect)((function(){var e;p||f||((null===g||void 0===g?void 0:g.find((function(e){return e.id===n})))||((null===h||void 0===h?void 0:h.partial_data)?o(b.yP.updateRegion(null!==(e=null===g||void 0===g?void 0:g[0].id)&&void 0!==e?e:null)):o(b.yP.updateRegion(null))))}),[g,h,p,f,n,o]),(0,a.jsxs)("form",{className:"c-tool-data-layer-settings",children:[(0,a.jsx)("h2",{children:"Location"}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("label",{htmlFor:"data-layer-country",children:["Country ",s&&(0,a.jsx)(ve,{inline:!0,mini:!0})]}),(0,a.jsx)(ue,{id:"data-layer-country",className:c?"is-invalid":void 0,options:u,value:t,onChange:function(e){var t=e.value;return o(b.yP.updateIso(t))},disabled:s||c,required:!0,"aria-describedby":"data-layer-country-error"}),(0,a.jsx)("div",{id:"data-layer-country-error",className:"invalid-feedback",children:"Unable to load the list of countries. Please reload the page."})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("label",{htmlFor:"data-layer-region",children:["Region ",(s||p)&&(0,a.jsx)(ve,{inline:!0,mini:!0})]}),(0,a.jsx)(ue,{id:"data-layer-region",className:f?"is-invalid":void 0,options:v,value:null!==n&&void 0!==n?n:"",onChange:function(e){var t=e.value;return o(b.yP.updateRegion(t))},disabled:s||c||p||f,required:!0,"aria-describedby":"data-layer-region-error"}),(0,a.jsx)("div",{id:"data-layer-region-error",className:"invalid-feedback",children:"Unable to load the list of regions. Please reload the page."})]}),(0,a.jsx)("h2",{children:"Time frame"}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"data-layer-date",children:"Date"}),(0,a.jsx)("input",{id:"data-layer-date",type:"date",className:"form-control",value:i,onChange:function(e){var t=e.target;return o(b.yP.updateDate(t.value))},max:(new Date).toISOString().split("T")[0],required:!0,"aria-describedby":"data-layer-date-note"}),(0,a.jsx)("div",{id:"data-layer-date-note",className:"form-text note",children:"The time frame automatically counts one year backwards from the date you select."})]})]})};function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){xe(e,t,n[t])}))}return e}var je=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=V(b.rx.selectSettings),n=L(),i=(0,r.useMemo)((function(){return[{id:"value-axes",name:"Value axes",value:t.valueAxes,onChange:function(e){return n(b.yP.updateSettings(ye({},t,{valueAxes:e})))}},{id:"time-axis",name:"Time axis",value:t.timeAxis,onChange:function(e){return n(b.yP.updateSettings(ye({},t,{timeAxis:e})))}},{id:"time-header",name:"Chart header",value:t.header,onChange:function(e){return n(b.yP.updateSettings(ye({},t,{header:e})))}},{id:"time-grid",name:"Chart grid",value:t.grid,onChange:function(e){return n(b.yP.updateSettings(ye({},t,{grid:e})))}},{id:"time-legend",name:"Legend",value:t.legend,onChange:function(e){return n(b.yP.updateSettings(ye({},t,{legend:e})))}}]}),[t,n]);return(0,a.jsx)("div",{className:"c-tool-chart-components-settings",children:i.map((function(e){return(0,a.jsx)(se,{id:"chart-component-".concat(e.id),name:"chart-component",checked:e.value,onChange:function(){return e.onChange(!e.value)},children:e.name},e.id)}))})},we=n(3253),_e=n.n(we);function Ce(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}_e().setAppElement("#root");var Ne=function(e){var t=e.open,n=e.onClose,r=e.title,i=e.children,o=e.className;return(0,a.jsxs)(_e(),{isOpen:t,onRequestClose:n,contentLabel:r,className:["c-modal"].concat(Ce(o?[o]:[])).join(" "),children:[(0,a.jsx)("button",{type:"button",className:"btn btn-outline-primary close-button",onClick:n,children:(0,a.jsx)(w,{name:"close"})}),(0,a.jsx)("div",{className:"content",children:i})]})};Ne.propTypes={open:o().bool.isRequired,onClose:o().func.isRequired,title:o().string.isRequired,children:o().node.isRequired,className:o().string},Ne.defaultProps={className:null};var Se=Ne,Oe=function(e){var t=e.open,n=e.onClose;return(0,a.jsxs)(Se,{title:"Map downloaded",open:t,onClose:n,className:"c-tool-download-success-modal",children:[(0,a.jsx)("h1",{className:"mb-3",children:"Chart downloaded!"}),(0,a.jsxs)("p",{children:["Check the"," ",(0,a.jsx)("a",{href:"https://mongabay.github.io/visual-style-guide/",target:"_blank",rel:"noopener noreferrer",children:"Mongabay Style Guidelines"})," ","in case you need to add any further detail on your chart."]}),(0,a.jsx)("button",{type:"button",className:"btn btn-primary btn-block mt-4",onClick:n,children:"Close"})]})};Oe.propTypes={open:o().bool.isRequired,onClose:o().func.isRequired};var ke=Oe,Ee=function(e){var t,n=e.exporting,i=(0,r.useState)("data-layer"),o=i[0],l=i[1],s=(0,r.useState)(!1),c=s[0],d=s[1],u=(0,r.useState)(!1),h=u[0],m=u[1];return(0,r.useEffect)((function(){c!==n&&(n||m(!0),d(n))}),[n,c,m,d]),(0,a.jsxs)("aside",{className:"c-tool-sidebar",children:[(0,a.jsx)(ke,{open:h,onClose:function(){return m(!1)}}),(0,a.jsxs)(C,{multi:!1,expanded:[o],onChange:function(e){return l(null!==(t=e[0])&&void 0!==t?t:null)},children:[(0,a.jsxs)(N,{id:"data-layer",className:"data-layer"===o?"-expanded":null,children:[(0,a.jsx)(S,{"aria-level":1,children:(0,a.jsx)("span",{className:"h1",children:"Data layer"})}),(0,a.jsx)(O,{children:(0,a.jsx)(be,{})})]}),(0,a.jsxs)(N,{id:"contextual-layers",className:"contextual-layers"===o?"-expanded":null,children:[(0,a.jsx)(S,{"aria-level":1,children:(0,a.jsx)("span",{className:"h1",children:"Chart components"})}),(0,a.jsx)(O,{children:(0,a.jsx)(je,{})})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(q,{sticky:"popper",plugins:[T.CA],content:(0,a.jsx)($,{}),children:(0,a.jsx)("button",{type:"button",className:"btn btn-primary mr-2",children:"Export"})})})]})};Ee.propTypes={exporting:o().bool.isRequired};var Pe=Ee,Ae=(0,v.$j)((function(e){return{exporting:b.$S.selectExporting(e)}}),{})(Pe),Re=n(270),Te=n(361),qe=n.n(Te);function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=function(e,t,n){var a=(0,G.useQuery)(["chart-data",e,t,n],(function(){return fetch("".concat("https://us-central1-fire-water-chart.cloudfunctions.net/fire_water_chart"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({iso:t,adm1:n?+n:"",date_text:e})}).then((function(e){return e.json()}))}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){De(e,t,n[t])}))}return e}({},a,{data:a.data})},ze=JSON.parse('{"$schema":"https://vega.github.io/schema/vega/v5.json","width":430,"height":380,"autosize":{"type":"fit","contains":"padding"},"signals":[{"name":"region","value":"\u2212"},{"name":"show_value_axes","value":true},{"name":"show_time_axis","value":true},{"name":"show_header","value":true},{"name":"show_legend","value":true},{"name":"base_width","value":315},{"name":"responsive_font_factor","update":"clamp(width / base_width, 0.7, 1.3)"},{"name":"tick_count","value":8},{"name":"header_height","update":"54 * responsive_font_factor"},{"name":"legend_labels","value":["Fire alerts (1 week moving average)","Fire alerts (2 month moving average)","Precipitation (1 week moving average)","Precipitation (2 month moving average)"]},{"name":"legend_colors","value":["#D9443B","#D9443B","#5593E6","#5593E6"]},{"name":"legend_opacities","value":[1,0.2,1,0.2]}],"data":[{"name":"table","format":{"parse":{"date":"utc:\'%Y-%m-%d\'"}},"values":[]},{"name":"stats","source":"table","transform":[{"type":"aggregate","fields":["precipitation_w","fire_w"],"ops":["max","max"],"as":["precipitation_max","fire_max"]},{"type":"formula","as":"precipitation_domain","expr":"[0, datum.precipitation_max * 2]"},{"type":"formula","as":"fire_domain","expr":"[0, datum.fire_max * 2]"},{"type":"formula","as":"precipitation_discrete_domain_step","expr":"ceil(datum.precipitation_max / (tick_count / 2))"},{"type":"formula","as":"precipitation_discrete_domain","expr":"reverse(sequence(0, datum.precipitation_discrete_domain_step * (tick_count + 1), datum.precipitation_discrete_domain_step))"},{"type":"formula","as":"fire_discrete_domain_step","expr":"ceil(datum.fire_max / (tick_count / 2))"},{"type":"formula","as":"fire_discrete_domain","expr":"reverse(sequence(0, datum.fire_discrete_domain_step * (tick_count + 1), datum.fire_discrete_domain_step))"}]}],"scales":[{"name":"date","type":"utc","domain":{"data":"table","field":"date"},"range":"width"},{"name":"precipitation","type":"linear","domain":{"signal":"data(\'stats\')[0].precipitation_domain"},"domainMax":{"signal":"data(\'stats\')[0].precipitation_discrete_domain_step * tick_count"},"range":"height","reverse":true},{"name":"precipitation_discrete","type":"point","domain":{"signal":"data(\'stats\')[0].precipitation_discrete_domain"},"range":"height","reverse":true},{"name":"fire","type":"linear","domain":{"signal":"data(\'stats\')[0].fire_domain"},"domainMax":{"signal":"data(\'stats\')[0].fire_discrete_domain_step * tick_count"},"range":"height"},{"name":"fire_discrete","type":"point","domain":{"signal":"data(\'stats\')[0].fire_discrete_domain"},"range":"height"},{"name":"legend_color","type":"ordinal","domain":{"signal":"legend_labels"},"range":{"signal":"legend_colors"}},{"name":"legend_opacity","type":"ordinal","domain":{"signal":"legend_labels"},"range":{"signal":"legend_opacities"}}],"axes":[{"scale":"date","orient":"bottom","format":"%b"},{"scale":"precipitation_discrete","orient":"left","title":"Precipitation (mm/day)"},{"scale":"fire_discrete","orient":"right","title":"Fire alerts (counts)"}],"layout":{"align":"all","titleBand":0,"headerBand":0,"padding":0,"offset":{"columnTitle":{"signal":"(show_header ? header_height : 0) - 2"}}},"marks":[{"type":"group","role":"column-title","encode":{"enter":{"width":{"signal":"width"},"height":{"signal":"header_height"}}},"marks":[{"type":"rect","encode":{"enter":{"x":{"value":2.5},"y":{"value":0},"width":{"signal":"width"},"height":{"signal":"show_header ? header_height : 0"}}}},{"type":"text","encode":{"enter":{"opacity":{"signal":"show_header ? 1 : 0"},"x":{"field":{"group":"width"},"mult":0.5},"y":{"field":{"group":"height"},"mult":0.5},"text":{"signal":"region"},"limit":{"signal":"width - 56"},"align":{"value":"center"},"fontSize":{"signal":"16 * responsive_font_factor"},"fontWeight":{"value":"700"}}}},{"type":"text","encode":{"enter":{"opacity":{"signal":"show_header ? 1 : 0"},"x":{"field":{"group":"width"},"mult":0.5},"y":{"signal":"header_height - 10 * responsive_font_factor"},"text":{"signal":"\'Time frame: \' + timeFormat(domain(\'date\')[0], \'%Y/%m/%d\') + \' - \' + timeFormat(domain(\'date\')[1], \'%Y/%m/%d\')"},"align":{"value":"center"},"fontSize":{"signal":"10 * responsive_font_factor"}}}}]},{"type":"group","marks":[{"type":"area","from":{"data":"table"},"encode":{"enter":{"x":{"scale":"date","field":"date"},"y":{"scale":"precipitation","field":"precipitation_2m"},"y2":{"value":0},"fill":{"signal":"legend_colors[3]"},"defined":{"signal":"isValid(datum[\'precipitation_2m\'])"}}}},{"type":"area","from":{"data":"table"},"encode":{"enter":{"x":{"scale":"date","field":"date"},"y":{"scale":"fire","field":"fire_2m"},"y2":{"signal":"height"},"fill":{"signal":"legend_colors[1]"},"defined":{"signal":"isValid(datum[\'fire_2m\'])"}}}},{"type":"line","from":{"data":"table"},"encode":{"enter":{"x":{"scale":"date","field":"date"},"y":{"scale":"precipitation","field":"precipitation_w"},"stroke":{"signal":"legend_colors[3]"},"defined":{"signal":"isValid(datum[\'precipitation_w\'])"}}}},{"type":"line","from":{"data":"table"},"encode":{"enter":{"x":{"scale":"date","field":"date"},"y":{"scale":"fire","field":"fire_w"},"stroke":{"signal":"legend_colors[1]"},"defined":{"signal":"isValid(datum[\'fire_w\'])"}}}}]}],"config":{"background":"#ffffff","padding":{"signal":"show_legend ? { \'bottom\': 60} : {}"},"axis":{"grid":true,"gridDash":[2,2],"gridColor":"#CDCDCD","gridWidth":0.5,"ticks":false,"domainColor":"#CDCDCD","titleFont":"Open Sans","titleFontSize":{"signal":"10 * responsive_font_factor"},"titleFontWeight":"400","titlePadding":{"signal":"12 * responsive_font_factor"},"labelColor":"#222222","labelFont":"Open Sans","labelFontSize":{"signal":"10 * responsive_font_factor"},"labelOverlap":"parity","labelPadding":{"signal":"10 * responsive_font_factor"}},"axisY":{"titleFontSize":{"signal":"show_value_axes ? 10 * responsive_font_factor : 0"},"titlePadding":{"signal":"show_value_axes ? 12 * responsive_font_factor : 0"},"labelPadding":{"signal":"6 * responsive_font_factor"}},"axisRight":{"grid":false,"titlePadding":{"signal":"show_value_axes ? 25 * responsive_font_factor : 0"},"titleAngle":-90},"legend":{"legendX":{"signal":"(show_value_axes ? -45 : 5) + (width < base_width ? 15 : 5)"},"legendY":{"signal":"height + 20 + (show_time_axis ? 20 * responsive_font_factor : 0)"},"padding":2,"labelLimit":{"signal":"(width + 100 * responsive_font_factor) / 2 - (28 * responsive_font_factor) / 2"},"columns":2,"columnPadding":{"signal":"10 * responsive_font_factor"},"rowPadding":{"signal":"8 * responsive_font_factor"},"labelColor":"#222222","labelFont":"Open Sans","labelFontSize":{"signal":"show_value_axes ? 10 * responsive_font_factor : min(10 * responsive_font_factor, 10)"}},"rect":{"stroke":"#CDCDCD","strokeWidth":1,"strokeOpacity":1,"fill":"none"},"text":{"font":"Open Sans","fill":"#222"},"area":{"fillOpacity":0.2},"line":{"strokeWidth":2}},"legends":[{"orient":"none","fill":"legend_color","opacity":"legend_opacity"}]}'),Fe=function(e,t,n,a){var r,i,o,l,s=function(e,t){var n,a=ne(e);if(!e||null!==t&&(a.isError||a.isError))return null;var r=null!==t?null===(n=a.data)||void 0===n?void 0:n.find((function(e){return e.id===t})):null;return t&&!r?null:t?"".concat(null===r||void 0===r?void 0:r.name,", ").concat(e.name):e.name}(null!==(i=null===(r=Z().data)||void 0===r?void 0:r.find((function(t){return t.iso===e})))&&void 0!==i?i:null,t),c=Me(n,e,null!==t&&void 0!==t?t:void 0),d=!s||c.isLoading,u=c.isError;d||u||((o=qe()(ze)).signals[0].value=s,o.data[0].values=null!==(l=qe()(c.data))&&void 0!==l?l:[],a.valueAxes||(o.signals[1].value=!1,o.config.axisY.labels=!1),a.timeAxis||(o.signals[2].value=!1,o.config.axisBottom={labels:!1}),a.header||(o.signals[3].value=!1),a.grid||(o.config.axis.grid=!1),a.legend||(o.signals[4].value=!1));return{isLoading:d,isError:u,data:o}};var Le=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=V(b.rx.selectIso),n=V(b.rx.selectRegion),i=V(b.rx.selectDate),o=V(b.rx.selectSettings),l=(0,r.useRef)(null),s=Fe(t,n,i,o);return(0,r.useEffect)((function(){if(l.current&&!s.isLoading&&!s.isError&&s.data){var e=(0,Re.Qc3)(s.data),t=new Re.G7x(e,{container:".js-chart-container"}),n=l.current.getBoundingClientRect(),a=n.width,r=n.height;return t.width(a-2),t.height(r-2),t.runAsync(),function(){t.finalize()}}}),[s]),(0,a.jsxs)("div",{ref:l,className:"c-tool-chart",children:[!s.isLoading&&!s.isError&&(0,a.jsx)("div",{className:"js-chart-container"}),s.isLoading&&(0,a.jsx)(ve,{inner:!0,transparent:!0}),s.isError&&(0,a.jsx)("p",{className:"text-center",children:"Unable to load the data. Please retry in a few minutes or with different settings."})]})},Ve=n(4155);var Ie=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t,n=V(b.$S.selectExporting);return(0,a.jsxs)("div",{className:"c-tool-attributions",children:[n&&(0,a.jsx)("img",{src:"".concat(null!==(t=Ve.env.BASE_PATH)&&void 0!==t?t:"","/images/mongabay-horizontal.jpg"),alt:"Mongabay",width:135,height:20}),!n&&(0,a.jsx)("div",{}),(0,a.jsxs)("div",{className:"content",children:["Data from"," ",(0,a.jsx)("a",{href:"https://globalforestwatch.org/",rel:"noopener noreferrer",target:"_blank",children:"Global Forest Watch"})," ","(NASA FIRMS. \u201c",(0,a.jsx)("a",{href:"https://earthdata.nasa.gov/earth-observation-data/near-real-time/firms/v1-vnp14imgt",rel:"noopener noreferrer",target:"_blank",children:"VIIRS Active Fires"}),".\u201d) and the"," ",(0,a.jsx)("a",{href:"https://chc.ucsb.edu/",rel:"noopener noreferrer",target:"_blank",children:"Climate Hazards Center"})," ","(",(0,a.jsx)("a",{href:"https://chc.ucsb.edu/data/chirps",rel:"noopener noreferrer",target:"_blank",children:"CHIRPS Rainfall Estimates"}),") ."]})]})},Be=function(){var e=V(b.$S.selectWidth),t=V(b.$S.selectHeight),n=V(b.$S.selectExporting);return(0,a.jsxs)("div",{className:s()(["c-tool-visualization","".concat(n?"exporting":"")]),children:[n&&(0,a.jsx)("div",{className:"exporting-message",children:"Exporting..."}),(0,a.jsxs)("div",{className:"m-auto d-flex flex-column js-visualization",style:{width:"".concat(e,"px"),minWidth:"".concat(e,"px"),height:"".concat(t,"px")},children:[(0,a.jsx)("div",{className:"chart-container",children:(0,a.jsx)(Le,{})}),(0,a.jsx)(Ie,{})]})]})},We=function(e){var t=e.serializedState,n=e.restoreState,i=(0,r.useState)(!1),o=(i[0],i[1]);return(0,r.useEffect)((function(){n()}),[n]),(0,r.useEffect)((function(){x.Router.replaceRoute("home",{state:t})}),[t]),(0,r.useEffect)((function(){o(!1)}),[]),(0,a.jsxs)("div",{className:"c-tool",children:[(0,a.jsx)(Ae,{}),(0,a.jsx)(Be,{})]})};We.propTypes={serializedState:o().string.isRequired,restoreState:o().func.isRequired};var He=We,Ye=(0,v.$j)((function(e){return{serializedState:b.jG.selectSerializedState(e)}}),{restoreState:b.Iy.restoreState})(He),Ue=function(){return(0,a.jsx)(g,{className:"p-home",children:(0,a.jsx)(Ye,{})})}}}]);